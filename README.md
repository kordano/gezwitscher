# gezwitscher

A basic wrapper around the java [twitter4j](http://twitter4j.org/en/index.html) framework for the [Twitter API](https://dev.twitter.com/docs) . Currently it only supports the [status/filter stream](https://dev.twitter.com/docs/api/1.1/post/statuses/filter), but in the future other API calls will be added.

## Usage

To access the Twitter API, Authentification is required. Refer to the [documentation](https://dev.twitter.com/docs/auth/using-oauth) for aquiring the credentials.

To include Gezwitscher in your project, add the following to your project.clj dependencies:

```clojure
[gezwitscher "0.1.0"]
```

Set the overall configuration

```clojure
(ns example.core
  (:require 
    [gezwitscher.core :refer [start-filter-stream]]) 
    
(def twitter-state 
  {:credentials {:consumer-key (or (System/getenv "TWITTER_API_KEY") "****")
                 :consumer-secret (or (System/getenv "TWITTER_API_SECRET") "****")
                 :access-token (or (System/getenv "TWITTER_ACCESS_TOKEN") "****")
                 :access-token-secret (or (System/getenv "TWITTER_ACCESS_TOKEN_SECRET") "****")}
   :handler (fn [status] (println (:text status)))
   :follow [1460703391]
   :track ["clojure" "functional" "programming"]})
```

The keys should be set as follows:
* `:credentials` : Punch in the API keys are generated by twitter. You should find them in your twitter application management. *Do not* copy your keys in any human-readable form in your code otherwise your application could be compromised. Set them in your envirnoment variables.
* `:handler` : Define a function for the streaming API which processes new arriving statuses.
* `:follow` : Define which twitter users to follow (the twitter ids are needed, not screen names).
* `:track` : Define keywords the streaming API should track.

Start the streaming service
```clojure
(def stop-stream 
  (start-filter-stream twitter-state))
```

The `start-filter-stream` returns a stop-function for the twitter-stream if you want to stop the streaming.

## License

Copyright © 2014 Konrad Kühne

Distributed under the Eclipse Public License either version 1.0 or (at
your option) any later version.
